---
title: "In-Class_Ex06b: Time Series with Tableau"
author: "Roger Chen"
date: "24 Feb 2024"
date-modified: "last-modified"
execute: 
  eval: true
  echo: true
  warning: false
  freeze: true
number-sections: true
editor: visual
---

# Introduction

In this in-class exercise, we will learn how to use Tableau to create Line Plots and Cycle Plots, deploy them on a dashboard, before publishing them on Tableau Public.

You can access the published Tableau site [here](https://public.tableau.com/app/profile/roger.chen4630/viz/In-Class_Ex06_17087559962100/Dashboard1?publish=yes).

# Creating Line Plots

Using the data source "arrivals_by_air.xls", we will first plot the year by sum arrivals.

![](images/clipboard-1018825726.png)

From the output above, we can see that it is not very convenient for the user, because you will need need to add/ remove the countries individually. Thus, it will be better if we can change the user interface. To do that, we will be editing the data to a pivot table. First, we will go to *Data Source*, and select all countries.

![](images/clipboard-3547374314.png)

After that, hover the cursor to the last column, click on the black triangle and select "*Pivot*".

![](images/clipboard-3287327797.png)

After which, we can now see that the data source has been changed to a pivot table, comprising three columns: Date, Country, Arrivals. We will rename the columns accordingly.

![](images/clipboard-2210779038.png)

From the sheet, we can see that there is low variability, which is not very useful.

![](images/clipboard-4044018769.png)

We will now increase the variability, by changing the *Year* to *Month*. We will also add a filter to the line graph:

![](images/clipboard-1725054471.png)

Notice that the filter is not exposed to the user. We will now display the filter interface:

![](images/clipboard-302137107.png)

Although there is a filter interface, the user will need to de-select the previous country when he wants to select a new country to visualise the data. Thus, we will improve user interface by selecting single value (list).

![](images/clipboard-1001333109.png)

# Creating Cycle Plot

First, we will duplicate the *Line Graph* sheet, and rename it as *Cycle Plot*.

In the column, we will change to Month, and add another Year.

![](images/clipboard-988787286.png)

As the output is beyond the display window, we will select "*Fit Width*".

![](images/clipboard-2655687954.png)

We will also add a reference line.

![](images/clipboard-391444205.png)

# Creating Dashboard

After creating a new dashboard, we will first select "Automatic" for size, so that users can view the dashboard from both computers and mobile phones.

![](images/clipboard-1525823386.png)

After selecting both Line Graph and Cycle Plot, we notice that there are now two legends, which is not ideal.

![](images/clipboard-2539476920.png)

In order to create one legend for both charts, we will first go back to the Line Graph Sheet. We will edit filter and select "*All using this Data Source*".

![](images/clipboard-547625262.png)

Going back to the dashboard, we will remove the extra filter from the Cycle Plot.

![](images/clipboard-2890346920.png)

# Publishing to Tableau Public

Extract data

![Publish](images/clipboard-990109285.png)

![](images/clipboard-1375437826.png)

# Creating Heat Map

Import data from "event_log.csv"

Use dimensions data

-   column

    -   choose month

    -   choose week number

-   row

    -   weekday

![](images/clipboard-1236290390.png)

new field

![Edit, add "1", pull to color](images/clipboard-3297695882.png)

![](images/clipboard-1629233464.png)

::: callout-note
notice that there are white columns in the output, as the months are not fused together.
:::

adding filter by zones

![](images/clipboard-66100673.png)
